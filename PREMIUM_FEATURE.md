# Премиум-функции в BankMannru3

## Обзор

В приложение BankMannru3 добавлена система премиум-статуса, которая предоставляет пользователям дополнительные возможности за ежемесячную плату в 20,000 МР (маннрублей).

## Функциональность

### Премиум-возможности

1. **Отсутствие комиссии на объявления**
   - Обычные пользователи платят комиссию 15 МР за каждое размещенное объявление
   - Премиум-пользователи размещают объявления без комиссии

2. **Приоритетное размещение**
   - Объявления премиум-пользователей отображаются в начале списка
   - Премиум-объявления имеют специальную маркировку с иконкой короны

3. **Расширенная статистика**
   - Доступ к подробной статистике по объявлениям и транзакциям

4. **Увеличенные лимиты**
   - Повышенные лимиты на вывод средств и другие операции

5. **Эксклюзивный дизайн карт**
   - Доступ к премиум-дизайнам банковских карт

## Техническая реализация

### Структура данных

Премиум-статус хранится в коллекции `users` в Firestore:

```javascript
{
  userId: "user123",
  isPremium: true,
  premiumExpiry: Timestamp, // Дата истечения премиум-статуса
  premiumFeatures: [
    "no_commission",
    "priority_listing",
    "extended_stats",
    "increased_limits",
    "exclusive_designs"
  ]
}
```

### Основные компоненты

1. **PremiumStatus.js**
   - Отображает текущий премиум-статус пользователя
   - Позволяет приобрести премиум-статус
   - Показывает дату истечения и доступные функции

2. **PremiumFeatures.js**
   - Информационный компонент, отображающий все преимущества премиум-статуса
   - Содержит кнопку для перехода к покупке премиум-статуса

3. **MarketItem.js**
   - Отображает премиум-статус объявления с помощью иконки короны
   - Имеет специальное оформление для премиум-объявлений

### Firebase функции

1. **checkPremiumStatus**
   - Проверяет, имеет ли пользователь премиум-статус
   - Проверяет, не истек ли срок действия премиум-статуса
   - Возвращает информацию о премиум-функциях

2. **purchasePremium**
   - Позволяет пользователю приобрести премиум-статус
   - Проверяет достаточность средств на карте
   - Устанавливает срок действия премиум-статуса на 1 месяц
   - Создает транзакцию для списания средств

3. **createMarketItem** (модификация)
   - Проверяет премиум-статус пользователя
   - Устанавливает комиссию 0 МР для премиум-пользователей
   - Добавляет флаг `isPremium` к объявлению для приоритетного отображения

4. **getMarketItems** (модификация)
   - Сортирует объявления так, чтобы премиум-объявления отображались первыми

## Интеграция в интерфейс

1. **Dashboard**
   - Отображает премиум-статус пользователя
   - Предлагает приобрести премиум-статус
   - Содержит информационный блок о преимуществах премиум-статуса

2. **Market**
   - Премиум-объявления выделены визуально и отображаются в начале списка
   - Премиум-объявления имеют специальную маркировку

## Стоимость и срок действия

- Стоимость: 20,000 МР
- Срок действия: 1 месяц
- Способ оплаты: списание с карты пользователя

## Дальнейшее развитие

1. **Автоматическое продление**
   - Добавить возможность автоматического продления премиум-статуса

2. **Уровни премиум-статуса**
   - Базовый премиум
   - Продвинутый премиум
   - VIP-премиум

3. **Промо-периоды**
   - Возможность получить премиум-статус на пробный период
   - Акции и скидки на премиум-статус 